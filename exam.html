<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>MATHS Exam</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            touch-action: manipulation;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        #zoom-container {
            width: 100%;
            height: 100%;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
            transform-origin: 0 0;
            transition: transform 0.1s ease-out;
        }
        
        .container {
            max-width: 100%;
            padding: 15px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 8px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            height: 60px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            height: 40px;
            margin-right: 10px;
        }
        
        .header-title {
            display: flex;
            align-items: center;
            font-size: 1rem;
        }
        
        .timer {
            font-size: 1rem;
            font-weight: bold;
            background-color: #e74c3c;
            padding: 5px 10px;
            border-radius: 5px;
            min-width: 90px;
            text-align: center;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
            transform-origin: center center;
        }
        
        h1, h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s;
            margin-top: 10px;
            width: 100%;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-start {
            background-color: #27ae60;
        }
        
        .btn-start:hover {
            background-color: #219653;
        }
        
        .btn-submit {
            background-color: #e74c3c;
        }
        
        .btn-submit:hover {
            background-color: #c0392b;
        }
        
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 8px;
        }
        
        .zoomable-image {
            width: 100%;
            margin-bottom: 15px;
            border-radius: 8px;
            cursor: zoom-in;
            transition: transform 0.3s;
        }
        
        .zoomed {
            transform: scale(1.5);
            cursor: zoom-out;
            z-index: 100;
            position: relative;
        }
        
        .hidden {
            display: none;
        }
        
        ol {
            padding-left: 20px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            min-height: 150px;
            margin-top: 10px;
        }
        
        .upload-area {
            border: 2px dashed #3498db;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            background-color: #f8f9fa;
        }
        
        .exam-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        #no-test-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            display: none;
        }
        
        #no-test-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 800px;
                padding: 20px;
            }
            
            .btn {
                width: auto;
            }
            
            .header-title {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- No Test Screen (shows 1 hour after exam ends) -->
    <div id="no-test-screen">
        <img id="no-test-image" src="https://i.ibb.co/svZV8G4W/no-test.png" alt="No Test Available">
    </div>

    <div id="zoom-container">
        <header>
            <div class="header-content">
                <div class="header-title">
                    <img src="https://i.ibb.co/3ybB7JRs/image.png" alt="Exam Logo" class="logo">
                    <span>MATHS Exam</span>
                </div>
                <div class="timer" id="countdown">00:30:00</div>
            </div>
        </header>

        <div class="container">
            <!-- Waiting Page -->
            <div id="waiting-page" class="card">
                <h2>Exam Instructions</h2>
                <p>The exam will begin at <strong id="start-time-display">July 14, 2025 8:00 AM</strong> and end at <strong id="end-time-display">8:40 AM</strong>.</p>
                
                <div class="video-container">
                    <iframe width="560" height="315" src="https://www.youtube.com/watch?v=yRJ6A_y7-Ek" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                
                <h3>Please read these instructions carefully:</h3>
                <ol>
                
                <a href="https://drive.google.com/drive/folders/1KReU8vfCdflu60JqlOPKhwoRKcyUvBHa?usp=sharing" style="
  display: inline-block;
  padding: 10px 20px;
  background-color: #4CAF50;
  color: white;
  text-decoration: none;
  border-radius: 8px;
  font-size: 16px;
  text-align: center;">
  কিভাবে এক্সাম দেবো?
</a>
                    <li>পরীক্ষার সময়সীমা 4০ মিনিট।</li>
  <li>সময়মতো পরীক্ষা সম্পন্ন ও জমা দিতে হবে।</li>
  <li>TOTAL MARKS -20 </li>
  <li>ভালভাবে দেখার জন্য ছবিতে ক্লিক করে জুম ইন/আউট করতে পারেন।</li>
  <li>সময় শেষ হওয়ার পরে আপনি উত্তর জমা দিতে পারবেন।</li>
  <li>পরীক্ষার সময় রিফ্রেশ বা পৃষ্ঠা ত্যাগ করলে পরীক্ষা বাতিল হবে।</li>
  <li>কোনো ধরনের চিটিং বা অসদুপায়ে পরীক্ষায় অংশগ্রহণ করলে তা অযোগ্যতা হিসাবে গণ্য হবে।</li>
</ul>
                
                <div id="waiting-timer" class="card" style="text-align: center; margin-top: 20px;">
                    <h3>Exam Starts In:</h3>
                    <div id="pre-exam-timer" style="font-size: 1.5rem; font-weight: bold;">--:--:--</div>
                </div>
                
                <button id="start-btn" class="btn btn-start hidden">Start Exam</button>
            </div>

            <!-- Exam Page -->
            <div id="exam-page" class="hidden">
                <div class="card">
                    <h2>MATH EXAM </h2>
                    <p>BY SUMIT HALDAR</p>
                    
                    <div class="image-container">
                        <img src="https://i.ibb.co/8gMpLgDJ/Q1.png" 
                             alt="Outline Map of India" 
                             class="zoomable-image">
                             
                             <img src="https://i.ibb.co/5WxFXYdn/Q2.png" 
                             alt="Outline Map of India" 
                             class="zoomable-image">
                        
                        
                    </div>
                </div>
            </div>

            <!-- Submission Page -->
            <div id="submission-page" class="hidden">
                <div class="card">
                    <h2>Exam Completed</h2>
                    <p>Thank you for completing the exam. Please submit your answers below.</p>
                    
                    <img src="https://i.ibb.co/7JrgVKxp/image.png" 
                         alt="Action Plan" 
                         class="exam-image">
                    
                    <div class="upload-area">
                        <p>Click the button below to submit your answers</p>
                        <button id="submit-redirect" class="btn btn-submit">Submit Answers</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== CONFIGURATION ===== //
        // Easy-to-edit exam timing (format: YYYY-MM-DDTHH:MM:SS)
        const config = {
            startTime: "2025-07-14T08:00:00", // July 13, 2025 1:00 PM
            endTime: "2025-07-14T08:40:00",   // July 13, 2025 1:30 PM
            redirectUrl: "https://classroom.google.com/c/NzgyMTA0NTg1MTEy/a/NzgzMTczNjYxMzM3/details",
            noTestImageDelay: 1 // hours after exam ends to show no-test image
        };
        // ======================== //
        
        // Calculate times
        const examStartTime = new Date(config.startTime).getTime();
        const examEndTime = new Date(config.endTime).getTime();
        const noTestTime = examEndTime + (config.noTestImageDelay * 60 * 60 * 1000);
        const examDuration = (examEndTime - examStartTime) / 1000; // in seconds
        
        // Format display times
        const startDate = new Date(config.startTime);
        const endDate = new Date(config.endTime);
        document.getElementById('start-time-display').textContent = 
            startDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) + 
            ' ' + startDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
        document.getElementById('end-time-display').textContent = 
            endDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
        
        // DOM elements
        const waitingPage = document.getElementById('waiting-page');
        const examPage = document.getElementById('exam-page');
        const submissionPage = document.getElementById('submission-page');
        const noTestScreen = document.getElementById('no-test-screen');
        const startBtn = document.getElementById('start-btn');
        const countdown = document.getElementById('countdown');
        const preExamTimer = document.getElementById('pre-exam-timer');
        const submitRedirect = document.getElementById('submit-redirect');
        const zoomContainer = document.getElementById('zoom-container');
        
        // Pinch-to-zoom variables
        let initialDistance = null;
        let currentScale = 1;
        let maxScale = 3;
        let minScale = 1;
        
        // Handle touch events for pinch-to-zoom
        zoomContainer.addEventListener('touchstart', function(e) {
            if (e.touches.length === 2) {
                e.preventDefault();
                initialDistance = Math.hypot(
                    e.touches[0].clientX - e.touches[1].clientX,
                    e.touches[0].clientY - e.touches[1].clientY
                );
            }
        });
        
        zoomContainer.addEventListener('touchmove', function(e) {
            if (e.touches.length === 2) {
                e.preventDefault();
                const currentDistance = Math.hypot(
                    e.touches[0].clientX - e.touches[1].clientX,
                    e.touches[0].clientY - e.touches[1].clientY
                );
                
                if (initialDistance) {
                    const scale = currentDistance / initialDistance;
                    const newScale = Math.min(maxScale, Math.max(minScale, currentScale * scale));
                    
                    if (newScale !== currentScale) {
                        currentScale = newScale;
                        zoomContainer.style.transform = `scale(${currentScale})`;
                        zoomContainer.style.width = `${100 / currentScale}%`;
                        zoomContainer.style.height = `${100 / currentScale}%`;
                    }
                }
            }
        });
        
        zoomContainer.addEventListener('touchend', function() {
            initialDistance = null;
        });
        
        // Double-tap zoom
        let lastTap = 0;
        zoomContainer.addEventListener('touchend', function(e) {
            if (e.touches.length > 0) return;
            
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            
            if (tapLength < 300 && tapLength > 0) {
                // Double tap detected
                if (currentScale === 1) {
                    currentScale = 2;
                } else {
                    currentScale = 1;
                }
                
                zoomContainer.style.transform = `scale(${currentScale})`;
                zoomContainer.style.width = `${100 / currentScale}%`;
                zoomContainer.style.height = `${100 / currentScale}%`;
            }
            
            lastTap = currentTime;
        });
        
        // Image zoom functionality
        document.querySelectorAll('.zoomable-image').forEach(img => {
            img.addEventListener('click', function() {
                this.classList.toggle('zoomed');
            });
        });
        
        // Timer variables
        let examInterval;
        let remainingTime;
        
        // Update timers
        function updateTimers() {
            const now = new Date().getTime();
            
            // Check if we should show no-test screen
            if (now >= noTestTime) {
                showNoTestScreen();
                return;
            }
            
            // Pre-exam countdown
            if (now < examStartTime) {
                const timeLeft = examStartTime - now;
                const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                
                preExamTimer.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                // Show start button 1 minute before exam starts
                if (timeLeft < 60000) {
                    startBtn.classList.remove('hidden');
                }
            } 
            // During exam
            else if (now >= examStartTime && now < examEndTime) {
                const timeLeft = examEndTime - now;
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                
                countdown.textContent = `00:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                // Start exam if not already started
                if (!waitingPage.classList.contains('hidden')) {
                    startExam();
                }
            } 
            // After exam but before no-test screen
            else {
                endExam();
            }
        }
        
        // Show no-test screen
        function showNoTestScreen() {
            document.body.style.overflow = 'hidden';
            noTestScreen.style.display = 'flex';
            
            // Hide all other sections
            waitingPage.classList.add('hidden');
            examPage.classList.add('hidden');
            submissionPage.classList.add('hidden');
            document.querySelector('header').style.display = 'none';
            document.querySelector('.container').style.display = 'none';
            zoomContainer.style.display = 'none';
        }
        
        // Start exam function
        function startExam() {
            waitingPage.classList.add('hidden');
            examPage.classList.remove('hidden');
            
            // Clear any existing interval
            if (examInterval) clearInterval(examInterval);
            
            // Start exam countdown
            remainingTime = Math.floor((examEndTime - Date.now()) / 1000);
            examInterval = setInterval(() => {
                const minutes = Math.floor(remainingTime / 60);
                const seconds = remainingTime % 60;
                
                countdown.textContent = `00:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                
                if (remainingTime <= 0) {
                    clearInterval(examInterval);
                    endExam();
                }
                
                remainingTime--;
            }, 1000);
        }
        
        // End exam function
        function endExam() {
            clearInterval(examInterval);
            examPage.classList.add('hidden');
            waitingPage.classList.add('hidden');
            submissionPage.classList.remove('hidden');
            countdown.textContent = "Time's Up!";
        }
        
        // Event listeners
        startBtn.addEventListener('click', startExam);
        
        submitRedirect.addEventListener('click', function() {
            window.location.href = config.redirectUrl;
        });
        
        // Initialize timers
        updateTimers();
        setInterval(updateTimers, 1000);
        
        // Prevent context menu on images
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('contextmenu', function(e) {
                e.preventDefault();
            });
        });
    </script>
</body>
</html>

